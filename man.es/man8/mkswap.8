MKSWAP(8)        Manual del Programador de Linux        MKSWAP(8)



NOMBRE
       mkswap - construye un área de trasiego para Linux

SINOPSIS
       mkswap [ -c ] dispositivo [tamañoenbloques]

DESCRIPCIÓN
       mkswap  establece  un área de trasiego para Linux sobre un
       dispositivo o en un fichero.

       El dispositivo es usualmente de la forma siguiente:

              /dev/hda[1-8]
              /dev/hdb[1-8]
              /dev/sda[1-8]
              /dev/sdb[1-8]

       El parámetro tamañoenbloques es el tamaño deseado del área
       de  trasiego,  en  bloques.  Esta información la determina
       automáticamente mkswap si se omite. El número  de  bloques
       se  redondea  hacia abajo de forma que el tamaño total sea
       un múltiplo entero del tamaño de  página  de  la  máquina.
       Sólo  se  permite  un  número  de bloques en el rango MIN­
       COUNT..MAXCOUNT. Si el número de bloques se pasa  de  MAX­
       COUNT,  se  trunca  a dicho valor y se emite un mensaje de
       advertencia.

       Los valores MINCOUNT y MAXCOUNT para un área  de  trasiego
       son:

              MINCOUNT = 10 × PAGE_SIZE ÷ 1024
              MAXCOUNT = (PAGE_SIZE - 10) × 8 x PAGE_SIZE ÷ 1024

       Por  ejemplo, en una máquina con páginas de 4 kB (e.g., un
       x86), tenemos:

              MINCOUNT = 10 x 4096 ÷ 1024 = 40
              MAXCOUNT = (4096 - 10) x 8 x 4096 ÷ 1024 = 130752

       Como cada bloque es 1 kB de grande, el área de trasiego en
       este  ejemplo  podría  tener un tamaño que estuviera en el
       rango de 40 kB a 127,6875 MB.

       Si no conoce el tamaño  de  página  que  usa  su  máquina,
       podría ser que lo averiguara con "cat /proc/cpuinfo".

       La  razón del límite en MAXCOUNT es que una sola página se
       emplea para contener el mapa de bits de trasiego al  prin­
       cipio  del área de trasiego, donde cada bit representa una
       simple página. La razón del - 10 es que la firma es "SWAP-
       SPACE": 10 caracteres.

       Para  establecer un fichero para el trasiego, es necesario
       crear dicho fichero antes de ejecutar mkswap.   Para  este
       propósito,  sería razonable una secuencia de órdenes simi­
       lar a la siguiente:

              # dd if=/dev/zero of=fichero-swap bs=1024 count=8192
              # mkswap fichero-swap 8192
              # sync
              # swapon fichero-swap

       Observe que un fichero de trasiego no debe contener ningún
       agujero  (por  eso, crear el fichero empleando por ejemplo
       cp(1) no es aceptable).


OPCIÓN
       -c     Comprueba antes de crear el área de trasiego si  el
              dispositivo  tiene bloques malos. Si los encuentra,
              muestra cuántos.  Esta  opción  está  pensada  para
              emplearse  solamente  para particiones de trasiego,
              ¡y no para ficheros regulares!  Para asegurarse  de
              que  los  ficheros  regulares  no contengan bloques
              malos, la partición donde estén debería haber  sido
              creada con mkfs -c.

VÉASE TAMBIÉN
       fsck(8), mkfs(8), fdisk(8)

AUTOR
       Linus Benedictus Torvalds (torvalds@cs.helsinki.fi).



Linux 1.0                Febrero de 1995                MKSWAP(8)
